<?xml version="1.0"?>
<ruleset>
  <arg name="basepath" value="."/>
  <arg name="extensions" value="php"/>
  <arg name="parallel" value="80"/>
  <arg name="cache" value=".phpcs-cache"/>
  <arg name="colors"/>

  <!-- Ignore warnings, show progress of the run and show sniff names -->
  <arg value="nps"/>

  <!-- Paths to be checked -->
  <file>src</file>
  <file>tests</file>

  <!-- Allow lots of memory -->
  <ini name="memory_limit" value="2G"/>

  <!-- Include full Doctrine Coding Standard -->
  <rule ref="Doctrine">
    <exclude name="Generic.Formatting.MultipleStatementAlignment"/>
    <exclude name="Generic.NamingConventions.ConstructorName.OldStyle"/>
    <exclude name="Squiz.Arrays.ArrayDeclaration.MultiLineNotAllowed"/>
    <exclude name="Squiz.Strings.DoubleQuoteUsage.ContainsVar"/>
    <exclude name="Squiz.Strings.DoubleQuoteUsage.NotRequired"/>
    <exclude name="SlevomatCodingStandard.Commenting.RequireOneLineDocComment"/>
    <exclude name="SlevomatCodingStandard.ControlStructures.EarlyExit.EarlyExitNotUsed"/>
  </rule>

  <rule ref="PSR1.Methods.CamelCapsMethodName.NotCamelCaps">
    <exclude-pattern>*Test.php</exclude-pattern>
  </rule>

  <!-- Configure return type spacing -->
  <rule ref="SlevomatCodingStandard.TypeHints.ReturnTypeHintSpacing">
    <properties>
      <property name="spacesCountBeforeColon" value="0"/>
    </properties>
  </rule>

  <!-- Configure namespace matching -->
  <rule ref="SlevomatCodingStandard.Files.TypeNameMatchesFileName">
    <properties>
      <property name="rootNamespaces" type="array">
        <element key="src" value="Knotlog"/>
        <element key="tests" value="Knotlog\Tests"/>
      </property>
    </properties>
  </rule>
</ruleset>
